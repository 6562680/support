# Support

Библиотека вспомогательных функций

Хочу предупредить. На текущем этапе я не использую семантический контроль версий. Пожалуйста, если вы нашли библиотеку рабочей - фиксируйте конкретную версию в composer.json. Библиотека на текущий момент претерпевает изменения едва ли не каждую неделю. Она по большей части никому не нужна, поэтому я меняю её как хочу. Если она кому-то понравится - я готов перейти на семантическое обновление "один раз в месяц" для минорной и раз в 3 месяца для мажорной версии.


* XArr.php
```
умеет делать с массивами то, что вы очень хотели, но его там не было. Обход рекурсией с путем, получение значения по пути через точку, превращение аргументов в список, unique с сохранением ключей и тд.
```

* XCache.php
```
единый сервис для кешей Psr\CacheItemPool
```

* XCalendar.php
```
умеет работать с датами так, чтобы от этого не плеваться. Сравнивать, добавлять, превращать в дату инты и флоаты, парсить таймзону из текста и т.д.
```

* XCli.php
```
умеет средствами OS удалять папку, создавать zip-архивы и переспрашивать о том, что файл уже есть. А еще работает с многострочным вводом из консоли
```

* XCmp.php
```
умеет сравнивать приводя типы к нужным, работает в связке с XCriteria, примерно как делают php-функции strcasecmp и тд. По большей части нужен для удобной сортировки чего-угодно
```

* XCriteria.php
```
умеет проверять массив с помощью критерия (в будущем доделаю возможность создавать критерий в виде запроса ->where() что-то)
```

* XCurl.php
```
умеет клонировать curl ресурсы, задавать умолчания, и создавать новые при помощи $curl->get(url, data) вместо каких-то там опций и тд. А еще умеет в multicurl в одну строку. В общем GuzzleHttp снова выбросить на помойку.
```

* XDebug.php
```
умеет выводить в виде текста любой тип данных, работать с сообщениями и аргументами, генерировать аккуратный стек-трейс для лога
```

* XEnv.php
```
простенький класс исправляющий ошибки getenv()/putenv() на Windows, связанный с регистром символов
```

* XFilter.php
```
класс, который проходится по всем другим в поисках функций ->filter(что-то)() и превращает их в три метода -> filter()/is()/assert(), первый возвращает null или исходник, второй всегда bool, третий бросает исключение с указанным текстом или исключение по-умолчанию
```

* XFormat.php
```
форматирует размер файла в человеческий формат и обратно, форматирует LIKE условие для SQL, чистит комменты из кривого json и ещё какие-то мелочи
```

* XFs.php
```
работает с файловой системой, строит и соединяет пути, убеждается что они верные и умеет в мощный рекурсивный удалятель папки на генераторе, чтобы спрашивать "а надо удалять или не надо"
```

* XItertools.php
```
представляет основные функции комбинаторики range/inverse/product/permutations/combinations, работает с последовательностями и всегда возвращает генератор
```

* XLoader.php
```
работает с неймспейсами, удобно слепляет PSR-4 пути к папкам с неймспейсами ничего не теряя, позволяет считывать из PHP кода классы, трейты, интерфейсы, use и тд.
```

* XLogger.php
```
единый сервис для логов с каналами, мини monolog/monolog, одной строкой подключил, из синглтона потом где надо запросил и в нужный лог записал
```

* XMath.php
```
реализует несколько математических функций и почти всю bc() логику с тем условием, что преобразование из числа или другого объекта в строковое число производится один раз и далее работает с ValueObject
```

* XNet.php
```
получает ip/useragent, содержит константы на HTTP методы и позволяет проверять айпишник в маске подсети
```

* XNum.php
```
в основном позволяет фильтровать числа и делать из массива чисел списки по типам. например, если нужно разбить массив на инты и флоаты - две строки и флоаты там, а инты здесь
```

* XPath.php
```
модуль работы с путями, контроллирующий число разделителей, слепляющий, разбивающий и позволяющий получать пути по аналогии dirname(file)
```

* XPhp.php
```
добавляет несколько полезных функций, таких как overload() для перегрузки параметров и их порядка, kwargs() из Python, позволяет проверять инстанс на соответствие "одного из классов" или проверять выходной тип для factory метода
```

* XProf.php
```
очень простой класс для удобного подсчета затраченного на код времени, основан на microtime(true) просто делает это по категориям
```

* XStr.php
```
класс реализующий два десятка недостающих строковых методов в том числе explode/implode recursive, join, untrim, crop, str_replace с поддержкой лимита и всю multibyte логику, кроме того умеет в slugify()/pluralize()/singularize() применяя доктрину или симфони за источник знаний
```

* XUri.php
```
класс работающий со ссылками и позволяющий их сравнивать по регулярке или по parse_url(), делать их абсолютными или относительными и вообще полезно, когда работаешь с SEO продвижением
```
